[aliases]
# Define `python setup.py test`
test = pytest

[tool:pytest]
testpaths = muscle_manager libmuscle/python
addopts = --mypy --pep8 --cov --cov-report xml --cov-report term-missing
pep8ignore =
    setup.py E501
    muscle_manager/protocol/*.py ALL
    libmuscle/manager_protocol/*.py ALL

[mypy]
strict = True
paths = muscle_manager libmuscle/python

[mypy-*]
disallow_untyped_calls = False

[mypy-*/test/*]
ignore_errors = True

[mypy-muscle_manager/protocol/*]
ignore_errors = True

[mypy-libmuscle/manager_protocol/*]
ignore_errors = True

[mypy-setuptools]
ignore_missing_imports = True

[mypy-pytest]
ignore_missing_imports = True

[mypy-google]
ignore_missing_imports = True

[mypy-google/protobuf*]
ignore_missing_imports = True

[mypy-grpc]
# We import grpc in this file, which is not a real package and cannot
# be found by MyPy. Ignore the error.
ignore_missing_imports = True

[mypy-ymmsl]
# This should be fixed later
ignore_missing_imports = True
